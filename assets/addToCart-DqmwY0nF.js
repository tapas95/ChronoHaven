import{b as l,d as n,e as u,s as g}from"./alert-DMWuZ5g4.js";import{g as i}from"./header-_iNkTwr9.js";const D=async(t,r,c)=>{try{const e=await i();if(e){const s=`${t}_${r}`,a=l(n,"users",e.uid,"cart",s);return(await u(a)).exists()?"EXISTS":(await g(a,{productId:t,variantId:r,quantity:c}),"ADDED")}else{let s=JSON.parse(localStorage.getItem("guestCart"))||[];return s.some(o=>o.productId===t&&o.variantId===r)?"EXISTS":(s.push({productId:t,variantId:r,quantity:c}),localStorage.setItem("guestCart",JSON.stringify(s)),"ADDED")}}catch(e){throw console.log(e),e}};export{D as a};
