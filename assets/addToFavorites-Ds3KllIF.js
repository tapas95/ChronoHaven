import{a as i,d as n,h as c,s as I}from"./firebase-config-C_Yz0m2T.js";import{g as v}from"./header-0P7B0Tyh.js";const u=async(t,a)=>{const r=await v(),e=`${t}_${a}`;if(r){const o=i(n,"users",r.uid,"favorites",e);return(await c(o)).exists()}else return(JSON.parse(localStorage.getItem("guestFavorites"))||[]).some(s=>s.productId===t&&s.variantId===a)},S=async t=>{const a=await v(),r=`${t.productId}_${t.variantId}`;if(a){const e=i(n,"users",a.uid,"favorites",r);return(await c(e)).exists()?"EXISTS":(await I(e,t),"ADDED")}else{const e=JSON.parse(localStorage.getItem("guestFavorites"))||[];return e.find(s=>s.productId===t.productId&&s.variantId===t.variantId)?"EXISTS":(e.push(t),localStorage.setItem("guestFavorites",JSON.stringify(e)),"ADDED")}};export{S as a,u as c};
