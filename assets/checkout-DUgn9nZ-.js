import{f as I,d as v,h as E,a as e}from"./alert-DvhDq9MJ.js";import{g as N}from"./header-ByYExwVd.js";const A=document.getElementById("askForLogin"),o=document.getElementById("firstName"),d=document.getElementById("lastName"),r=document.getElementById("email"),a=document.getElementById("phone"),u=document.getElementById("shippingAddress"),l=document.getElementById("shippingState"),m=document.getElementById("shippingCity"),f=document.getElementById("shippingCountry"),p=document.getElementById("shippingZip");document.getElementById("shippingDescription");const c=document.getElementById("billingInfo"),g=document.getElementById("addDifferentAddress"),L=document.getElementById("subTotal"),B=document.getElementById("total"),b=document.getElementById("placeOrder");c&&(c.style.display="none");g&&g.addEventListener("click",i=>{i.preventDefault(),g.classList.add("d-none"),c&&(c.style.display="block")});function T(){const i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,y=/^[0-9]{10}$/;return document.querySelectorAll(".alert").forEach(t=>t.remove()),o&&!o.value.trim()?o.insertAdjacentHTML("afterend",e("Please enter your First Name")):d&&!d.value.trim()?d.insertAdjacentHTML("afterend",e("Please enter your Last Name")):r&&!r.value.trim()?r.insertAdjacentHTML("afterend",e("Please enter your Email")):r&&!i.test(r.value.trim())?r.insertAdjacentHTML("afterend",e("Invalid Email Address")):a&&!a.value.trim()?a.insertAdjacentHTML("afterend",e("Please enter your Mobile Number")):a&&!y.test(a.value.trim())?a.insertAdjacentHTML("afterend",e("Phone number must be 10 digits")):u&&!u.value.trim()?u.insertAdjacentHTML("afterend",e("Shipping Address is required")):l&&!l.value.trim()?l.insertAdjacentHTML("afterend",e("State is required")):m&&!m.value.trim()?m.insertAdjacentHTML("afterend",e("City is required")):f&&!f.value.trim()?f.insertAdjacentHTML("afterend",e("Country is required")):p&&!p.value.trim()?p.insertAdjacentHTML("afterend",e("ZIP Code is required")):!0}const C=async()=>{const i=await N();if(i){A&&A.remove();try{const t=I(v,"users",i.uid),n=await E(t);if(n.exists()){const s=n.data();o&&(o.value=s.firstName),d&&(d.value=s.lastName),r&&(r.value=s.email)}}catch(t){console.log(t)}}if(new URLSearchParams(window.location.search).get("buyNow")==="true"){const t=JSON.parse(sessionStorage.getItem("buyNowItem"));if(!t)return;try{const n=I(v,"collections","products","items",t.productId),s=await E(n);if(s.exists()){const h=s.data();L&&(L.textContent=`â‚¹ ${(h.price.current*t.productQuantity).toFixed(2)}`),B&&(B.textContent=`â‚¹ ${(h.price.current*t.productQuantity).toFixed(2)}`)}}catch(n){console.log(n)}b&&b.addEventListener("click",n=>{n.preventDefault(),T()})}};C();
