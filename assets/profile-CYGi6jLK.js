import{b as y,d as E,e as p,u as h,a as n}from"./alert-DWjb4CXO.js";import{g as b}from"./header-CpIVn-0u.js";import"./sidebar-DFuUrab7.js";const s=document.getElementById("firstName"),i=document.getElementById("lastName"),t=document.getElementById("email"),r=document.getElementById("phone"),m=document.querySelectorAll('input[name="gender"]'),l=document.getElementById("dob"),v=document.getElementById("saveProfile");function A(){const d=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,a=/^[0-9]{10}$/,o=[...m].find(e=>e.checked);return document.querySelectorAll(".alert").forEach(e=>e.remove()),s&&!s.value.trim()?s.insertAdjacentHTML("afterend",n("Please enter your First Name")):i&&!i.value.trim()?i.insertAdjacentHTML("afterend",n("Please enter your Last Name")):t&&!t.value.trim()?t.insertAdjacentHTML("afterend",n("Please enter your Email")):t&&!d.test(t.value.trim())?t.insertAdjacentHTML("afterend",n("Invalid Email Address")):r&&!r.value.trim()?r.insertAdjacentHTML("afterend",n("Please enter your Mobile Number")):r&&!a.test(r.value.trim())?r.insertAdjacentHTML("afterend",n("Phone number must be 10 digits")):o?l&&!l.value.trim()?l.insertAdjacentHTML("afterend",n("Please enter your Date of Birth")):{firstName:s.value.trim(),lastName:i.value.trim(),email:t.value.trim(),phone:r.value.trim(),gender:o.value.trim(),dob:l.value.trim()}:m[0].closest(".gender-group").insertAdjacentHTML("beforeend",n("Please Select Your Gender"))}const N=async()=>{const d=await b();if(d)try{const a=y(E,"users",d.uid),o=await p(a);if(o.exists()){const e=o.data();console.log(e);const f=[...m].find(u=>u.value===e.gender);s&&(s.value=e.firstName||""),i&&(i.value=e.lastName||""),t&&(t.value=e.email||""),r&&(r.value=e.phone||""),f&&(f.checked=!0),l&&(l.value=e.dob||""),v&&v.addEventListener("click",async u=>{u.preventDefault();const c=A();if(!(!c||typeof c!="object"))try{await h(a,{...c})}catch(g){console.log(g)}})}}catch(a){console.log(a)}};N();
