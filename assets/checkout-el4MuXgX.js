import{f as B,d as C,h as T,a as e}from"./alert-DvhDq9MJ.js";import{g as N}from"./header-CN8bIxoT.js";const o=document.getElementById("askForLogin"),l=document.getElementById("firstName"),u=document.getElementById("lastName"),r=document.getElementById("email"),d=document.getElementById("phone"),c=document.getElementById("shippingAddress"),m=document.getElementById("shippingState"),f=document.getElementById("shippingCity"),g=document.getElementById("shippingCountry"),y=document.getElementById("shippingZip");document.getElementById("shippingDescription");const a=document.getElementById("billingInfo"),p=document.getElementById("billingAddress"),I=document.getElementById("billingState"),A=document.getElementById("billingCity"),b=document.getElementById("billingCountry"),v=document.getElementById("billingZip"),E=document.getElementById("addDifferentAddress"),M=document.getElementById("subTotal"),j=document.getElementById("total"),H=document.getElementById("placeOrder");a&&(a.style.display="none");E&&E.addEventListener("click",s=>{s.preventDefault(),E.classList.add("d-none"),a&&(a.style.display="block")});function S(){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,L=/^[0-9]{10}$/,t=a&&a.style.display!=="none",n=o&&o.style.display!=="none";if(console.log(n),document.querySelectorAll(".alert").forEach(i=>i.remove()),l&&!l.value.trim())return l.insertAdjacentHTML("afterend",e("Please enter your First Name"));if(u&&!u.value.trim())return u.insertAdjacentHTML("afterend",e("Please enter your Last Name"));if(r&&!r.value.trim())return r.insertAdjacentHTML("afterend",e("Please enter your Email"));if(r&&!s.test(r.value.trim()))return r.insertAdjacentHTML("afterend",e("Invalid Email Address"));if(d&&!d.value.trim())return d.insertAdjacentHTML("afterend",e("Please enter your Mobile Number"));if(d&&!L.test(d.value.trim()))return d.insertAdjacentHTML("afterend",e("Phone number must be 10 digits"));if(c&&!c.value.trim())return c.insertAdjacentHTML("afterend",e("Shipping Address is required"));if(m&&!m.value.trim())return m.insertAdjacentHTML("afterend",e("State is required"));if(f&&!f.value.trim())return f.insertAdjacentHTML("afterend",e("City is required"));if(g&&!g.value.trim())return g.insertAdjacentHTML("afterend",e("Country is required"));if(y&&!y.value.trim())return y.insertAdjacentHTML("afterend",e("ZIP Code is required"));if(t){if(p&&!p.value.trim())return p.insertAdjacentHTML("afterend",e("Billing Address is required"));if(I&&!I.value.trim())return I.insertAdjacentHTML("afterend",e("State is required"));if(A&&!A.value.trim())return A.insertAdjacentHTML("afterend",e("City is required"));if(b&&!b.value.trim())return b.insertAdjacentHTML("afterend",e("Country is required"));if(v&&!v.value.trim())return v.insertAdjacentHTML("afterend",e("ZIP Code is required"))}return o&&o.insertAdjacentHTML("afterend",e("Please login to Place Order.","danger","mb-3")),!0}const q=async()=>{const s=await N();if(s){o&&o.remove();try{const t=B(C,"users",s.uid),n=await T(t);if(n.exists()){const i=n.data();l&&(l.value=i.firstName),u&&(u.value=i.lastName),r&&(r.value=i.email)}}catch(t){console.log(t)}}if(new URLSearchParams(window.location.search).get("buyNow")==="true"){const t=JSON.parse(sessionStorage.getItem("buyNowItem"));if(!t)return;try{const n=B(C,"collections","products","items",t.productId),i=await T(n);if(i.exists()){const h=i.data();M&&(M.textContent=`₹ ${(h.price.current*t.productQuantity).toFixed(2)}`),j&&(j.textContent=`₹ ${(h.price.current*t.productQuantity).toFixed(2)}`)}}catch(n){console.log(n)}H&&H.addEventListener("click",n=>{n.preventDefault(),S()})}};q();
