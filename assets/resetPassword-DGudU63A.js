import{a as e,l,b as w}from"./alert-CGnHWstA.js";/* empty css                       */import{t as d}from"./togglePasswordVisibility-CFsXdpQZ.js";const s=document.getElementById("resetPasswordForm"),o=document.getElementById("newPassword"),i=document.getElementById("confirmPassword"),t=document.getElementById("submitResetPassword"),m=new URLSearchParams(window.location.search),u=m.get("oobCode");d("newPasswordVisibility","newPassword");d("confirmPasswordVisibility","confirmPassword");s.addEventListener("submit",async c=>{c.preventDefault(),document.querySelectorAll(".alert").forEach(a=>a.remove());const n=o.value.trim(),r=i.value.trim();if(!n)return o.parentElement.insertAdjacentHTML("afterend",e("Please Enter New Password"));if(!r)return i.parentElement.insertAdjacentHTML("afterend",e("Please Re-enter the Password"));if(n===r)try{t.disabled=!0,await l(w,u,r),s.innerHTML=e("Password reset successful. You can now log in with your new password.","success"),setTimeout(()=>{window.location.href="/login.html"},2e3)}catch(a){switch(console.log(a),a.code){case"auth/expired-action-code":s.insertAdjacentHTML("afterbegin",e("Invalid or expired reset link. Please try again.","danger","mb-3"));break;case"auth/invalid-action-code":s.insertAdjacentHTML("afterbegin",e("This password reset link is invalid or has already been used. Please request a new one.","danger","mb-3"));break;case"auth/weak-password":s.insertAdjacentHTML("afterbegin",e("Password should be at least 6 characters.","danger","mb-3"));break;case"auth/network-request-failed":s.insertAdjacentHTML("afterbegin",e("Network error: Please check your internet connection and try again.","danger","mb-3"));break;default:s.insertAdjacentHTML("afterbegin",e("Something went wrong. Please try again later.","danger","mb-3"));break}}finally{t&&(t.disabled=!1)}else s.insertAdjacentHTML("afterbegin",e("New Password and Confirm Password must be same.","danger","mb-3"))});
