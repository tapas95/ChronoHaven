import{a as e,m as c,f as m}from"./alert-ChYDPNDZ.js";/* empty css                       */import{t as d}from"./togglePasswordVisibility-CFsXdpQZ.js";const a=document.getElementById("resetPasswordForm"),i=document.getElementById("newPassword"),o=document.getElementById("confirmPassword"),r=document.getElementById("submitResetPassword"),w=new URLSearchParams(window.location.search),b=w.get("oobCode");d("newPasswordVisibility","newPassword");d("confirmPasswordVisibility","confirmPassword");a.addEventListener("submit",async l=>{l.preventDefault(),document.querySelectorAll(".alert").forEach(n=>n.remove());const s=i.value.trim(),t=o.value.trim();if(!s)return i.parentElement.insertAdjacentHTML("afterend",e("Please Enter New Password","danger","bi-exclamation-diamond-fill"));if(!t)return o.parentElement.insertAdjacentHTML("afterend",e("Please Re-enter the Password","danger","bi-exclamation-diamond-fill"));if(s===t)try{r.disabled=!0,await c(m,b,t),a.innerHTML=e("Password reset successful. You can now log in with your new password.","success","bi-check-circle-fill"),setTimeout(()=>{window.location.href="/login.html"},2e3)}catch(n){switch(console.log(n),n.code){case"auth/expired-action-code":a.insertAdjacentHTML("afterbegin",e("Invalid or expired reset link. Please try again.","danger","bi-exclamation-diamond-fill","mb-3"));break;case"auth/invalid-action-code":a.insertAdjacentHTML("afterbegin",e("This password reset link is invalid or has already been used. Please request a new one.","danger","bi-exclamation-diamond-fill","mb-3"));break;case"auth/weak-password":a.insertAdjacentHTML("afterbegin",e("Password should be at least 6 characters.","danger","bi-exclamation-diamond-fill","mb-3"));break;case"auth/network-request-failed":a.insertAdjacentHTML("afterbegin",e("Network error: Please check your internet connection and try again.","danger","bi-exclamation-diamond-fill","mb-3"));break;default:a.insertAdjacentHTML("afterbegin",e("Something went wrong. Please try again later.","danger","bi-exclamation-diamond-fill","mb-3"));break}}finally{r&&(r.disabled=!1)}else a.insertAdjacentHTML("afterbegin",e("New Password and Confirm Password must be same.","danger","bi-exclamation-diamond-fill","mb-3"))});
