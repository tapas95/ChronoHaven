import{c as h,d as b,q as T,w as j,g as S}from"./firebase-config-t6koYE1i.js";import"./header-6RkX87UG.js";import{r as $,a as L,S as k}from"./productCardSkeleton-BIi_DCyX.js";import{d as p}from"./alert-CO0lNkg5.js";const u=document.getElementById("productsContainer"),C=async o=>{if(u){u.innerHTML="",$(u,9);try{let e;const s=h(b,"collections","products","items");!o||o.length===0?e=s:e=T(s,j("category","in",o));const r=await S(e);if(r.empty){u.insertAdjacentHTML("beforeend",p("No Products Found.","danger"));return}r.forEach(t=>{const i=t.data();u.insertAdjacentHTML("beforeend",L(i))}),requestAnimationFrame(()=>{document.querySelectorAll(".variant-images").forEach((i,d)=>{var m;new k(i,{perPage:1,arrows:!1,pagination:!0,drag:!1}).mount();const n=(m=r.docs[d])==null?void 0:m.data();if(!n||!n.variants)return;const c=i.querySelectorAll(".splide__pagination__page");n.variants.forEach((a,y)=>{const g=c[y];if(!g||!a.colors)return;const w=a.colors.map(A=>a.colors.length>1?`${A} ${100/a.colors.length}%`:A).join(", ");g.style.cssText=`
                            --variant-base-color: ${a.colors[0]};
                            background-image: linear-gradient( -45deg, ${w} );
                            box-shadow: 0 0 0 0.125rem ${a.colors[0]};
                        `})})})}catch(e){console.log(e),u.insertAdjacentHTML("beforeend",p("Error Loading Products.","danger"))}finally{const e=document.getElementById("productCardSkeleton");e&&e.remove()}}},q=async o=>{try{const e=h(b,"collections","categories","items"),s=await S(e);if(s.empty){o.insertAdjacentHTML("beforeend",p("No Categories Found.","danger"));return}s.forEach(r=>{const t=r.data();o.insertAdjacentHTML("beforeend",`
                <li class="mb-0">
                    <label for="${t.id}" class="px-3 py-2 border rounded-32 transition-3 cursor-pointer">
                        <input type="checkbox" id="${t.id}" name="${t.id}" data-category="${t.name}" class="category-checkbox d-none" />
                        <span class="d-block">${t.name}</span>
                    </label>
                </li>
            `)}),requestAnimationFrame(()=>{const r=o.querySelectorAll('input[type="checkbox"]');r.forEach(t=>{t.addEventListener("change",i=>{i.preventDefault();const d=t.getAttribute("data-category"),l=Array.from(r).filter(n=>n.checked).map(n=>n.getAttribute("data-category"));console.log(l),t.checked?t.parentElement.classList.add("bg-primary","text-white"):t.parentElement.classList.remove("bg-primary","text-white"),l.length===0?C(null):C(l)})})})}catch(e){console.log(e)}},f=document.getElementById("productsContainer"),E=document.getElementById("categoriesContainer"),x=async()=>{$(f,9);try{const o=h(b,"collections","products","items"),e=await S(o);if(e.empty){f.insertAdjacentHTML("beforeend",p("No Products Found.","danger"));return}e.forEach(s=>{const r=s.data();f.insertAdjacentHTML("beforeend",L(r))}),requestAnimationFrame(()=>{document.querySelectorAll(".variant-images").forEach((r,t)=>{var n;new k(r,{perPage:1,arrows:!1,pagination:!0,drag:!1}).mount();const d=(n=e.docs[t])==null?void 0:n.data();if(!d||!d.variants)return;const l=r.querySelectorAll(".splide__pagination__page");d.variants.forEach((c,m)=>{const a=l[m];if(!a||!c.colors)return;const y=c.colors.map(g=>c.colors.length>1?`${g} ${100/c.colors.length}%`:g).join(", ");a.style.cssText=`
                        --variant-base-color: ${c.colors[0]};
                        background-image: linear-gradient( -45deg, ${y} );
                        box-shadow: 0 0 0 0.125rem ${c.colors[0]};
                    `})})}),E&&q(E)}catch(o){console.log(o),f.insertAdjacentHTML("beforeend",p("Error Loading Products.","danger"))}finally{const o=document.getElementById("productCardSkeleton");o&&o.remove()}};x();
