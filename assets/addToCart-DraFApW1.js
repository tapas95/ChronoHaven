import{a as l,d as n,b as u,s as g}from"./firebase-config-z-tLKvAO.js";import{g as i}from"./header-WUg31Ys-.js";const D=async(e,r,c)=>{try{const s=await i();if(s){const t=`${e}_${r}`,a=l(n,"users",s.uid,"cart",t);return(await u(a)).exists()?"EXISTS":(await g(a,{productId:e,variantId:r,quantity:c}),"ADDED")}else{let t=JSON.parse(localStorage.getItem("guestCart"))||[];return t.some(o=>o.productId===e&&o.variantId===r)?"EXISTS":(t.push({productId:e,variantId:r,quantity:c}),localStorage.setItem("guestCart",JSON.stringify(t)),"ADDED")}}catch(s){throw console.log(s),s}};export{D as a};
