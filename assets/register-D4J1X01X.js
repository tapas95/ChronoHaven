import{a as e,j as M,h as j,s as H,b as F,d as k}from"./alert-DinGA58b.js";/* empty css                       */import{t as P}from"./togglePasswordVisibility-DyESKLue.js";const i=document.getElementById("registerForm"),f=document.getElementById("firstName"),g=document.getElementById("lastName"),n=document.getElementById("email"),r=document.getElementById("phone"),p=document.getElementById("male"),L=document.getElementById("female"),v=document.getElementById("other"),l=document.getElementById("password"),c=document.getElementById("confirmPassword"),E=document.getElementById("agreeCheck"),d=document.getElementById("submitRegister"),B=[f,g,n,r,p,L,v,l,c,E],I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,N=/^[0-9]{10}$/;n.addEventListener("input",()=>n.value=n.value.toLowerCase());r.addEventListener("input",()=>r.value=r.value.replace(/\D/g,""));P("passwordVisibility","password");P("confirmPasswordVisibility","confirmPassword");B.forEach(s=>{s.addEventListener("input",()=>{const a=s.closest(":is( .form-group, .form-check )").querySelector(".alert");a&&a.remove()})});i.addEventListener("submit",async s=>{s.preventDefault();const a=f.value.trim(),h=g.value.trim(),m=n.value.trim().toLowerCase(),u=r.value.trim(),y=p.checked,b=L.checked,T=v.checked,o=l.value.trim(),w=c.value.trim(),A=E.checked;if(document.querySelectorAll(".alert").forEach(t=>t.remove()),!a)return f.insertAdjacentHTML("afterend",e("Please Enter Your First Name"));if(!h)return g.insertAdjacentHTML("afterend",e("Please Enter Your Last Name"));if(!m)return n.insertAdjacentHTML("afterend",e("Please Enter Your Email"));if(!I.test(m))return n.insertAdjacentHTML("afterend",e("Please enter your email in the correct format (e.g., name@example.com)."));if(!u)return r.insertAdjacentHTML("afterend",e("Please Enter Your Phone Number"));if(!N.test(u))return r.insertAdjacentHTML("afterend",e("Phone number must be 10 digits"));if(!y&&!b&&!T)return p.parentElement.parentElement.parentElement.parentElement.insertAdjacentHTML("beforeend",e("Please Select Your Gender"));if(!o)return l.parentElement.parentElement.insertAdjacentHTML("beforeend",e("Please Enter a Password"));if(o.length<6)return l.parentElement.parentElement.parentElement.parentElement.insertAdjacentHTML("beforeend",e("Password must be at least 6 characters long"));if(!w)return c.parentElement.parentElement.insertAdjacentHTML("beforeend",e("Please Confirm Your Password"));if(o!==w)return c.parentElement.parentElement.parentElement.insertAdjacentHTML("afterend",e("Password and Confirm Password must be same."));if(!A)return E.parentElement.parentElement.insertAdjacentHTML("beforeend",e("You must agree to the Terms and Privacy Policy"));try{d.disabled=!0,d.insertAdjacentHTML("beforeend",'<div class="spinner-border spinner-border-sm text-light" role="status"><span class="visually-hidden">Loading...</span></div>');const t=await M(j,m,o);await H(F(k,"users",t.user.uid),{firstName:a,lastName:h,phone:u,gender:y?"Male":b?"Female":"Other"}),i.innerHTML=e("Your account has been created successfully! You can now log in using your email and password.","success"),setTimeout(()=>window.location.href="./login.html",1e3)}catch(t){switch(t.code){case"auth/email-already-in-use":n.insertAdjacentHTML("afterend",e("This email is already registered. Please use a different email or try logging in instead."));break;case"auth/network-request-failed":i.insertAdjacentHTML("beforeend",e("Network error: Please check your internet connection and try again.","danger","mt-4"));break;default:i.insertAdjacentHTML("beforeend",e("Something went wrong. Please try again later.","danger","mt-4"));break}}finally{d.disabled=!1;const t=d.querySelector(".spinner-border");t&&t.remove()}});
