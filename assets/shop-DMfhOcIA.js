import{c as m,d as f,g as y,q as C,w as E}from"./firebase-config-t6koYE1i.js";import"./header-6RkX87UG.js";import{r as k,a as L,S as $}from"./productCardSkeleton-CTUBxRrG.js";import{d}from"./alert-CO0lNkg5.js";const w=async r=>{try{const e=m(f,"collections","categories","items"),o=await y(e);if(o.empty){r.insertAdjacentHTML("beforeend",d("No Categories Found.","danger"));return}o.forEach(n=>{const t=n.data();r.insertAdjacentHTML("beforeend",`
                <li class="mb-0">
                    <label for="${t.id}" class="px-3 py-2 border rounded-32 transition-3 cursor-pointer">
                        <input type="checkbox" id="${t.id}" name="${t.id}" data-category="${t.name}" class="category-checkbox d-none" />
                        <span class="d-block">${t.name}</span>
                    </label>
                </li>
            `)})}catch(e){console.log(e)}},s=document.getElementById("productsContainer"),i=document.getElementById("categoriesContainer"),l=async(r=null)=>{s.innerHTML="",k(s,9);try{let e=m(f,"collections","products","items");r&&r.length>0&&(e=C(e,E("category","in",r)));const o=await y(e);if(o.empty){s.insertAdjacentHTML("beforeend",d("No Products Found.","danger"));return}o.forEach(n=>{const t=n.data();s.insertAdjacentHTML("beforeend",L(t))}),requestAnimationFrame(()=>{document.querySelectorAll(".variant-images").forEach((t,h)=>{var g;new $(t,{perPage:1,arrows:!1,pagination:!0,drag:!1}).mount();const c=(g=o.docs[h])==null?void 0:g.data();if(!c||!c.variants)return;const b=t.querySelectorAll(".splide__pagination__page");c.variants.forEach((a,A)=>{const u=b[A];if(!u||!a.colors)return;const S=a.colors.map(p=>a.colors.length>1?`${p} ${100/a.colors.length}%`:p).join(", ");u.style.cssText=`
                        --variant-base-color: ${a.colors[0]};
                        background-image: linear-gradient( -45deg, ${S} );
                        box-shadow: 0 0 0 0.125rem ${a.colors[0]};
                    `})})})}catch(e){console.log(e),s.insertAdjacentHTML("beforeend",d("Error Loading Products.","danger"))}finally{const e=document.getElementById("productCardSkeleton");e&&e.remove()}};l();i&&w(i).then(()=>{const r=i.querySelectorAll("input.category-checkbox");r.forEach(e=>{e.addEventListener("change",o=>{o.preventDefault(),e.getAttribute("data-category");const n=Array.from(r).filter(t=>t.checked).map(t=>t.getAttribute("data-category"));e.checked?e.parentElement.classList.add("bg-primary","text-white"):e.parentElement.classList.remove("bg-primary","text-white"),n.length===0?l(null):l(n)})})});
